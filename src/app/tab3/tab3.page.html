<ion-header [translucent]="true">

</ion-header>

<ion-content [fullscreen]="true">

  <div style="position: absolute; right:0; padding: 10px;">
    <ion-button (click)='aboutus_modal()'></ion-button>
  </div>


  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">History</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <img id="Logo" src="./assets/Logo.png" />
  <img class="Footer" id="TYN" src="./assets/TYN.png"/>
  <img id="RICE" src="./assets/RICE.png"/>

  <br>  
  <br>
  <ion-card style="background-color: transparent;">

  <div *ngIf="orderArray.length == 0">Orders completed will be shown here</div>
  <ion-card *ngFor="let order of orderArray" style="background-color: transparent;">
    <div id ="coverimg"  style="display: flex;">
      <div  class="coverpic" style="flex: 1;" [style.background-color] = "order.canteencolor"></div>
      <div  style="flex: 10;">
      <img class="coverpic" style=" width:max-content;"  src={{order.image}} />
    </div>
  </div>


    <div id="txtlabelposition">
     <ion-card-title id ="foodname" style="display: flex;">
       <div style="flex: 1;">
        {{order.foodname}}  x{{order.orderquantity || 1}}
       </div>
      <div *ngIf="userRole === 'student' || userRole === 'vendor'" id="locate" style="color: #737373; font-weight: 500;">
        Ordered: {{order.date?.toDate() | date: 'dd/MM/yyyy H:mm'}}
      </div>
     </ion-card-title>
     <ion-card-subtitle id="locate" style="display: flex;">
       <div style="flex: 1;">
        {{order.stallname}} . {{order.canteenname}}
       </div>
       <div *ngIf="userRole === 'student' || userRole === 'vendor'">
        Collected: {{order.datecompleted?.toDate() | date: 'dd/MM/yyy H:mm'}}
       </div>
       <div *ngIf="userRole === 'sponsor'">
        {{order.date?.toDate() | date: 'dd/MM/yyy H:mm'}}
       </div>
     </ion-card-subtitle>
   </div>
 
   </ion-card>
</ion-card>

</ion-content>
